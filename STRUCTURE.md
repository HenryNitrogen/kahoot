# ğŸ“ Kahoot Helper - é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ—ï¸ æ•´ä½“æ¶æ„

```
kahoot/                     # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ extension/              # Chromeæµè§ˆå™¨æ‰©å±•
â”œâ”€â”€ server/                # Node.jsåç«¯APIæœåŠ¡
â”œâ”€â”€ web/                   # Next.js Webç®¡ç†é¢æ¿
â”œâ”€â”€ .gitignore            # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ README.md             # é¡¹ç›®æ€»è§ˆæ–‡æ¡£
â””â”€â”€ TESTING.md            # ç³»ç»Ÿæµ‹è¯•æŒ‡å—
```

## ğŸ§© Extension - Chromeæ‰©å±•

```
extension/
â”œâ”€â”€ manifest.json           # æ‰©å±•é…ç½®æ–‡ä»¶
â”œâ”€â”€ content.js             # å†…å®¹è„šæœ¬ - ä¸»è¦é€»è¾‘
â”œâ”€â”€ background.js          # åå°æœåŠ¡è„šæœ¬
â”œâ”€â”€ popup.html             # æ‰©å±•å¼¹çª—é¡µé¢
â”œâ”€â”€ popup.js               # å¼¹çª—äº¤äº’é€»è¾‘
â”œâ”€â”€ auth.js                # ç”¨æˆ·è®¤è¯ç®¡ç†æ¨¡å—
â”œâ”€â”€ login-ui.js            # åŠ¨æ€ç™»å½•ç•Œé¢ç»„ä»¶
â”œâ”€â”€ TROUBLESHOOTING.md     # æ‰©å±•æ•…éšœæ’é™¤æŒ‡å—
â””â”€â”€ README.md              # æ‰©å±•è¯¦ç»†è¯´æ˜æ–‡æ¡£
```

### æ ¸å¿ƒæ–‡ä»¶åŠŸèƒ½

- **`manifest.json`** - æ‰©å±•æƒé™é…ç½®ã€è„šæœ¬åŠ è½½é…ç½®
- **`content.js`** - ç›‘æ§Kahooté¡µé¢ã€æå–é—®é¢˜ã€è°ƒç”¨AI APIã€UIæ¸²æŸ“
- **`auth.js`** - JWT tokenç®¡ç†ã€ç”¨æˆ·çŠ¶æ€ç®¡ç†ã€æœåŠ¡å™¨é€šä¿¡
- **`login-ui.js`** - åŠ¨æ€åˆ›å»ºç™»å½•è¡¨å•ã€éªŒè¯é€»è¾‘

## ğŸ”§ Server - åç«¯APIæœåŠ¡

```
server/
â”œâ”€â”€ server.js              # ExpressæœåŠ¡å™¨ä¸»æ–‡ä»¶
â”œâ”€â”€ database.js            # MySQLæ•°æ®åº“è¿æ¥å’ŒæŸ¥è¯¢
â”œâ”€â”€ package.json           # Node.jsé¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ .env                   # ç¯å¢ƒå˜é‡é…ç½® (éœ€è¦åˆ›å»º)
â”œâ”€â”€ .env.example           # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ start.sh               # æœåŠ¡å™¨å¯åŠ¨è„šæœ¬
â””â”€â”€ README.md              # æœåŠ¡å™¨APIæ–‡æ¡£
```

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

- **`server.js`** - REST APIè·¯ç”±ã€è®¤è¯ä¸­é—´ä»¶ã€ä¸šåŠ¡é€»è¾‘
- **`database.js`** - æ•°æ®åº“æ“ä½œå°è£…ã€æŸ¥è¯¢æ–¹æ³•ã€è¿æ¥ç®¡ç†

### APIç«¯ç‚¹ç»“æ„

```
/api/
â”œâ”€â”€ auth/                  # ç”¨æˆ·è®¤è¯ç›¸å…³
â”‚   â”œâ”€â”€ register          # POST - ç”¨æˆ·æ³¨å†Œ
â”‚   â”œâ”€â”€ login             # POST - ç”¨æˆ·ç™»å½•
â”‚   â””â”€â”€ me                # GET - è·å–ç”¨æˆ·ä¿¡æ¯
â”œâ”€â”€ ai/
â”‚   â””â”€â”€ answer            # POST - AIé—®ç­”æœåŠ¡
â”œâ”€â”€ admin/                # ç®¡ç†å‘˜åŠŸèƒ½
â”‚   â”œâ”€â”€ dashboard         # GET - ä»ªè¡¨æ¿ç»Ÿè®¡
â”‚   â””â”€â”€ codes             # GET/POST - å…‘æ¢ç ç®¡ç†
â”œâ”€â”€ redeem                # POST - å…‘æ¢æ¿€æ´»ç 
â””â”€â”€ health                # GET - æœåŠ¡å™¨å¥åº·æ£€æŸ¥
```

## ğŸŒ Web - Next.jsç®¡ç†é¢æ¿

```
web/
â”œâ”€â”€ app/                   # Next.js 13+ App Router
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ page.tsx           # é¦–é¡µ
â”‚   â”œâ”€â”€ globals.css        # å…¨å±€æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ api/               # APIè·¯ç”±å¤„ç†
â”‚   â”‚   â”œâ”€â”€ auth/          # è®¤è¯API
â”‚   â”‚   â”‚   â”œâ”€â”€ login/route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ register/route.ts
â”‚   â”‚   â”‚   â””â”€â”€ me/route.ts
â”‚   â”‚   â”œâ”€â”€ admin/         # ç®¡ç†å‘˜API
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/route.ts
â”‚   â”‚   â”‚   â””â”€â”€ codes/route.ts
â”‚   â”‚   â”œâ”€â”€ payment/       # æ”¯ä»˜ç›¸å…³API
â”‚   â”‚   â””â”€â”€ redeem/route.ts
â”‚   â”œâ”€â”€ dashboard/         # ç”¨æˆ·ä»ªè¡¨æ¿é¡µé¢
â”‚   â”œâ”€â”€ admin/             # ç®¡ç†å‘˜åå°é¡µé¢
â”‚   â”œâ”€â”€ login/             # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ register/          # æ³¨å†Œé¡µé¢
â”‚   â”œâ”€â”€ redeem/            # å…‘æ¢ç é¡µé¢
â”‚   â”œâ”€â”€ download/          # æ‰©å±•ä¸‹è½½é¡µé¢
â”‚   â”œâ”€â”€ extension/         # æ‰©å±•ç›¸å…³é¡µé¢
â”‚   â””â”€â”€ test/              # ç³»ç»Ÿæµ‹è¯•é¡µé¢
â”œâ”€â”€ lib/                   # å·¥å…·åº“å’ŒæœåŠ¡
â”‚   â”œâ”€â”€ auth.ts            # NextAuthé…ç½®
â”‚   â”œâ”€â”€ prisma.ts          # Prismaå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ userService.ts     # ç”¨æˆ·æœåŠ¡
â”‚   â””â”€â”€ redeemCodeService.ts
â”œâ”€â”€ prisma/                # æ•°æ®åº“ORM
â”‚   â”œâ”€â”€ schema.prisma      # æ•°æ®åº“æ¨¡å¼å®šä¹‰
â”‚   â””â”€â”€ dev.db             # å¼€å‘ç¯å¢ƒSQLiteæ•°æ®åº“
â”œâ”€â”€ public/                # é™æ€èµ„æº
â”‚   â”œâ”€â”€ extension/         # æ‰©å±•ç›¸å…³é™æ€æ–‡ä»¶
â”‚   â””â”€â”€ *.svg              # å›¾æ ‡æ–‡ä»¶
â”œâ”€â”€ scripts/               # å·¥å…·è„šæœ¬
â”‚   â””â”€â”€ updateAdmin.ts     # ç®¡ç†å‘˜æƒé™æ›´æ–°è„šæœ¬
â”œâ”€â”€ package.json           # å‰ç«¯é¡¹ç›®é…ç½®
â”œâ”€â”€ next.config.ts         # Next.jsé…ç½®
â”œâ”€â”€ tsconfig.json          # TypeScripté…ç½®
â”œâ”€â”€ postcss.config.mjs     # PostCSSé…ç½®
â”œâ”€â”€ eslint.config.mjs      # ESLinté…ç½®
â””â”€â”€ README.md              # Webåº”ç”¨è¯´æ˜æ–‡æ¡£
```

## ğŸ—„ï¸ æ•°æ®åº“ç»“æ„

### ä¸»è¦æ•°æ®è¡¨

```sql
Users                      # ç”¨æˆ·è¡¨
â”œâ”€â”€ id (ä¸»é”®)
â”œâ”€â”€ email (é‚®ç®±,å”¯ä¸€)
â”œâ”€â”€ name (ç”¨æˆ·å)
â”œâ”€â”€ password (åŠ å¯†å¯†ç )
â”œâ”€â”€ isAdmin (ç®¡ç†å‘˜æ ‡è¯†)
â””â”€â”€ timestamps

Subscriptions              # è®¢é˜…è¡¨
â”œâ”€â”€ id (ä¸»é”®)
â”œâ”€â”€ userId (å¤–é”®â†’Users)
â”œâ”€â”€ plan (è®¢é˜…è®¡åˆ’)
â”œâ”€â”€ status (çŠ¶æ€)
â”œâ”€â”€ endDate (åˆ°æœŸæ—¶é—´)
â””â”€â”€ timestamps

Usage                      # ä½¿ç”¨è®°å½•è¡¨
â”œâ”€â”€ id (ä¸»é”®)
â”œâ”€â”€ userId (å¤–é”®â†’Users)
â”œâ”€â”€ date (ä½¿ç”¨æ—¥æœŸ)
â”œâ”€â”€ requestsCount (è¯·æ±‚æ¬¡æ•°)
â””â”€â”€ timestamps

RedeemCodes               # å…‘æ¢ç è¡¨
â”œâ”€â”€ id (ä¸»é”®)
â”œâ”€â”€ code (å…‘æ¢ç )
â”œâ”€â”€ plan (å¯¹åº”è®¡åˆ’)
â”œâ”€â”€ duration (æœ‰æ•ˆæœŸå¤©æ•°)
â”œâ”€â”€ isUsed (æ˜¯å¦å·²ä½¿ç”¨)
â”œâ”€â”€ usedBy (ä½¿ç”¨è€…ID)
â””â”€â”€ timestamps

AIRequests                # AIè¯·æ±‚è®°å½•è¡¨
â”œâ”€â”€ id (ä¸»é”®)
â”œâ”€â”€ userId (å¤–é”®â†’Users)
â”œâ”€â”€ question (é—®é¢˜å†…å®¹)
â”œâ”€â”€ answer (AIå›ç­”)
â”œâ”€â”€ model (ä½¿ç”¨çš„AIæ¨¡å‹)
â””â”€â”€ timestamp
```

## ğŸ”„ æ•°æ®æµå‘

### ç”¨æˆ·é—®ç­”æµç¨‹
```
Kahooté¡µé¢ â†’ Chromeæ‰©å±• â†’ åç«¯API â†’ AIæœåŠ¡ â†’ æ•°æ®åº“è®°å½• â†’ è¿”å›ç­”æ¡ˆ
```

### è®¤è¯æµç¨‹
```
Webç«¯/æ‰©å±• â†’ ç™»å½•è¯·æ±‚ â†’ åç«¯éªŒè¯ â†’ JWTç”Ÿæˆ â†’ å®¢æˆ·ç«¯å­˜å‚¨ â†’ APIè°ƒç”¨æºå¸¦Token
```

### ç®¡ç†æµç¨‹
```
ç®¡ç†å‘˜ç™»å½• â†’ Webç®¡ç†åå° â†’ ç®¡ç†API â†’ æ•°æ®åº“æ“ä½œ â†’ å®æ—¶ç»Ÿè®¡æ›´æ–°
```

## ğŸš€ éƒ¨ç½²æ¶æ„

### å¼€å‘ç¯å¢ƒ
```
localhost:3000  - Next.js Webåº”ç”¨
localhost:932   - Express APIæœåŠ¡å™¨  
localhost:3306  - MySQLæ•°æ®åº“
Chromeæ‰©å±•      - å¼€å‘è€…æ¨¡å¼åŠ è½½
```

### ç”Ÿäº§ç¯å¢ƒ
```
your-domain.com     - Webåº”ç”¨ (Vercel/è‡ªå»º)
api.your-domain.com - APIæœåŠ¡å™¨ (VPS/äº‘æœåŠ¡)
æ•°æ®åº“æœåŠ¡å™¨         - MySQL (äº‘æ•°æ®åº“/è‡ªå»º)
Chromeå•†åº—          - æ‰©å±•å‘å¸ƒ
```

## ğŸ“¦ ä¾èµ–å…³ç³»

### æŠ€æœ¯æ ˆ
- **å‰ç«¯**: Next.js 14, React, TypeScript, Tailwind CSS
- **åç«¯**: Node.js, Express, MySQL, JWT
- **æ‰©å±•**: Vanilla JavaScript, Chrome Extension API
- **æ•°æ®åº“**: MySQL (ç”Ÿäº§), SQLite (å¼€å‘)
- **éƒ¨ç½²**: Vercel, PM2, Docker

### å…³é”®ä¾èµ–
```json
{
  "server": ["express", "mysql2", "jsonwebtoken", "bcryptjs"],
  "web": ["next", "react", "prisma", "@auth/prisma-adapter"],
  "extension": ["chrome-extension-api"]
}
```

## ğŸ” å®‰å…¨æ¶æ„

### è®¤è¯å±‚çº§
1. **æ— è®¤è¯**: å¥åº·æ£€æŸ¥ã€é™æ€èµ„æº
2. **ç”¨æˆ·è®¤è¯**: åŸºæœ¬AIé—®ç­”ã€ä¸ªäººä¿¡æ¯
3. **ç®¡ç†å‘˜è®¤è¯**: åå°ç®¡ç†ã€ç³»ç»Ÿç»Ÿè®¡

### æ•°æ®ä¿æŠ¤
- APIè°ƒç”¨å…¨éƒ¨ä½¿ç”¨HTTPS
- å¯†ç ä½¿ç”¨bcryptåŠ å¯†å­˜å‚¨
- JWT tokenæœ‰è¿‡æœŸæ—¶é—´
- CORSé™åˆ¶è·¨åŸŸè®¿é—®
- è¾“å…¥éªŒè¯é˜²æ­¢æ³¨å…¥æ”»å‡»

---

ğŸ“ **æ¸…æ™°çš„é¡¹ç›®ç»“æ„ï¼Œä¾¿äºå¼€å‘å’Œç»´æŠ¤ï¼**
